<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ†ã‚¹ãƒˆ</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            padding: 20px;\n            max-width: 800px;\n            margin: 0 auto;\n        }\n        .test-section {\n            background: #f8f9fa;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n        }\n        .btn {\n            padding: 10px 20px;\n            margin: 5px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            background: #667eea;\n            color: white;\n        }\n        .log {\n            background: #e9ecef;\n            padding: 10px;\n            border-radius: 4px;\n            font-family: monospace;\n            white-space: pre-wrap;\n            max-height: 300px;\n            overflow-y: auto;\n            margin-top: 10px;\n        }\n    </style>\n</head>\n<body>\n    <h1>ğŸ§ª ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h1>\n    \n    <div class=\"test-section\">\n        <h3>1. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸çŠ¶æ³ç¢ºèª</h3>\n        <button class=\"btn\" onclick=\"checkLocalStorage()\">ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ãƒã‚§ãƒƒã‚¯</button>\n        <div id=\"storage-log\" class=\"log\"></div>\n    </div>\n    \n    <div class=\"test-section\">\n        <h3>2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼çŠ¶æ…‹ç¢ºèª</h3>\n        <button class=\"btn\" onclick=\"checkProjectManager()\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯</button>\n        <div id=\"manager-log\" class=\"log\"></div>\n    </div>\n    \n    <div class=\"test-section\">\n        <h3>3. ç°¡å˜ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ†ã‚¹ãƒˆ</h3>\n        <button class=\"btn\" onclick=\"testCreateProject()\">ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ</button>\n        <div id=\"create-log\" class=\"log\"></div>\n    </div>\n    \n    <div class=\"test-section\">\n        <h3>4. ä¿å­˜ã•ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§</h3>\n        <button class=\"btn\" onclick=\"listProjects()\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚’è¡¨ç¤º</button>\n        <button class=\"btn\" onclick=\"clearProjects()\" style=\"background: #dc3545;\">å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤</button>\n        <div id=\"list-log\" class=\"log\"></div>\n    </div>\n    \n    <script src=\"config.js\"></script>\n    <script src=\"api-client.js\"></script>\n    <script src=\"js/project-manager.js\"></script>\n    <script>\n        function log(elementId, message) {\n            const element = document.getElementById(elementId);\n            const timestamp = new Date().toLocaleTimeString();\n            element.textContent += `[${timestamp}] ${message}\\n`;\n            element.scrollTop = element.scrollHeight;\n        }\n        \n        function checkLocalStorage() {\n            const logId = 'storage-log';\n            document.getElementById(logId).textContent = '';\n            \n            try {\n                // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®åŸºæœ¬ãƒ†ã‚¹ãƒˆ\n                localStorage.setItem('test-key', 'test-value');\n                const testValue = localStorage.getItem('test-key');\n                log(logId, `âœ… ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸åŸºæœ¬å‹•ä½œ: ${testValue}`);\n                localStorage.removeItem('test-key');\n                \n                // æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯\n                const tempProjects = JSON.parse(localStorage.getItem('tempProjects') || '[]');\n                log(logId, `ğŸ“ æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°: ${tempProjects.length}`);\n                \n                tempProjects.forEach((project, index) => {\n                    log(logId, `  ${index + 1}. ${project.name} (ID: ${project.id})`);\n                });\n                \n                // ãƒ–ãƒ©ã‚¦ã‚¶ã®åˆ¶é™ã‚’ãƒã‚§ãƒƒã‚¯\n                const quota = navigator.storage ? 'Available' : 'Not Available';\n                log(logId, `ğŸ’¾ Storage API: ${quota}`);\n                \n            } catch (error) {\n                log(logId, `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`);\n            }\n        }\n        \n        function checkProjectManager() {\n            const logId = 'manager-log';\n            document.getElementById(logId).textContent = '';\n            \n            log(logId, `ğŸ” window.ProjectManagerå­˜åœ¨: ${typeof window.ProjectManager !== 'undefined'}`);\n            log(logId, `ğŸ” window.projectManagerå­˜åœ¨: ${typeof window.projectManager !== 'undefined'}`);\n            \n            if (window.projectManager) {\n                log(logId, `ğŸ” useAPIè¨­å®š: ${window.projectManager.useAPI}`);\n                log(logId, `ğŸ” createTempProjecté–¢æ•°: ${typeof window.projectManager.createTempProject}`);\n                log(logId, `ğŸ” getTempProjectsLocalé–¢æ•°: ${typeof window.projectManager.getTempProjectsLocal}`);\n                \n                // ç°¡å˜ãªæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ\n                try {\n                    const projects = window.projectManager.getTempProjectsLocal();\n                    log(logId, `âœ… getTempProjectsLocalå‹•ä½œç¢ºèª: ${projects.length}ä»¶`);\n                } catch (error) {\n                    log(logId, `âŒ getTempProjectsLocalã‚¨ãƒ©ãƒ¼: ${error.message}`);\n                }\n            }\n        }\n        \n        async function testCreateProject() {\n            const logId = 'create-log';\n            document.getElementById(logId).textContent = '';\n            \n            if (!window.projectManager) {\n                log(logId, 'âŒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒå­˜åœ¨ã—ã¾ã›ã‚“');\n                return;\n            }\n            \n            const testData = {\n                name: `ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ${new Date().getTime()}`,\n                description: 'ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™',\n                budget: '1000',\n                duration: '12',\n                requirements: 'ãƒ†ã‚¹ãƒˆè¦ä»¶',\n                keywords: 'ãƒ†ã‚¹ãƒˆ, AI, æ©Ÿæ¢°å­¦ç¿’'\n            };\n            \n            log(logId, 'ğŸš€ ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆé–‹å§‹...');\n            log(logId, `ğŸ“‹ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿: ${JSON.stringify(testData, null, 2)}`);\n            \n            try {\n                const result = await window.projectManager.createTempProject(testData);\n                log(logId, `âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæˆåŠŸ!`);\n                log(logId, `ğŸ“ ä½œæˆã•ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: ${JSON.stringify(result, null, 2)}`);\n                \n                // ä¿å­˜ç¢ºèª\n                const saved = JSON.parse(localStorage.getItem('tempProjects') || '[]');\n                log(logId, `ğŸ’¾ ä¿å­˜ç¢ºèª: ç·ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•° ${saved.length}`);\n                \n            } catch (error) {\n                log(logId, `âŒ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆå¤±æ•—: ${error.message}`);\n                log(logId, `ğŸ“‹ ã‚¨ãƒ©ãƒ¼ã‚¹ã‚¿ãƒƒã‚¯: ${error.stack}`);\n            }\n        }\n        \n        function listProjects() {\n            const logId = 'list-log';\n            document.getElementById(logId).textContent = '';\n            \n            try {\n                const tempProjects = JSON.parse(localStorage.getItem('tempProjects') || '[]');\n                log(logId, `ğŸ“‚ ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: ${tempProjects.length}ä»¶`);\n                \n                if (tempProjects.length === 0) {\n                    log(logId, 'ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚Šã¾ã›ã‚“');\n                } else {\n                    tempProjects.forEach((project, index) => {\n                        log(logId, `\\n${index + 1}. ${project.name}`);\n                        log(logId, `   ID: ${project.id}`);\n                        log(logId, `   ä½œæˆæ—¥: ${project.created_at}`);\n                        log(logId, `   ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${project.status}`);\n                        log(logId, `   ç ”ç©¶è€…æ•°: ${(project.selected_researchers || []).length}`);\n                    });\n                }\n            } catch (error) {\n                log(logId, `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`);\n            }\n        }\n        \n        function clearProjects() {\n            if (confirm('å…¨ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {\n                localStorage.removeItem('tempProjects');\n                const logId = 'list-log';\n                document.getElementById(logId).textContent = '';\n                log(logId, 'ğŸ—‘ï¸ å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã—ã¾ã—ãŸ');\n            }\n        }\n        \n        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãŒåˆæœŸåŒ–ã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿ\n        document.addEventListener('DOMContentLoaded', function() {\n            setTimeout(() => {\n                if (window.projectManager) {\n                    console.log('âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼åˆæœŸåŒ–å®Œäº†');\n                } else {\n                    console.warn('âš ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼åˆæœŸåŒ–å¤±æ•—');\n                }\n            }, 1000);\n        });\n    </script>\n</body>\n</html>\n